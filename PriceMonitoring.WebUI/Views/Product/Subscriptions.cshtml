@model List<ProductWithPriceAndWebsiteViewModel>



@if (Model != null)
{
    <div class="row">
        @foreach (var product in Model)
        {
            <div class="col-md-3">
                <form asp-action="DeleteSubscription" asp-controller="Product">
                    @await Html.PartialAsync(partialViewName: "_ProductPartial", model: product)
                    <div class="text-center">
                        <button class="btn btn-danger"> Delete subscription </button>
                        @if (TempData["Message"] is not null && int.Parse(TempData["ProductId"].ToString()) == product.Product.Id)
                        {
                            string alertType = TempData["AlertType"] as string;
                            <div class="alert alert-@alertType"> @TempData["Message"] </div>
                        }
                    </div>
                </form>
            </div>
        }
    </div>
}
